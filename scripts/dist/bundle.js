(()=>{"use strict";var t={184:()=>{},112:(t,e,s)=>{s.d(e,{x:()=>i});const i=new class{constructor(){this.pressed=!1,this.pressedElement=null,this.startX=0,this.startY=0,this._move=[],this._click=[],document.addEventListener("mousemove",(t=>{this._move.forEach((e=>{e(t.movementX,t.movementY)}))})),document.addEventListener("click",(t=>{this._click.forEach((e=>{e(t.offsetX,t.offsetY)}))})),document.addEventListener("mousedown",(t=>{this.startX=t.offsetX,this.startY=t.offsetY,this.pressedElement=t.target,this.pressed=!0})),document.addEventListener("mouseup",(t=>{let e=t.offsetX-this.startX;t.offsetY,this.startY,Math.abs(e)<5&&Math.abs(e)<5&&this._click.forEach((e=>{e(t.offsetX,t.offsetY)})),this.pressedElement=null,this.pressed=!1})),document.addEventListener("touchmove",(t=>{let e=t.touches[0].clientX-this.startX,s=t.touches[0].clientY-this.startY;this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this._move.forEach((t=>{t(e,s)}))})),document.addEventListener("touchstart",(t=>{this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.pressedElement=t.target,this.pressed=!0})),document.addEventListener("touchend",(t=>{let e=t.changedTouches[0].clientX-this.startX,s=t.changedTouches[0].clientY-this.startY;Math.abs(e)<5&&Math.abs(s)<5&&this._click.forEach((t=>{t(e+this.startX,s+this.startY)})),this.pressedElement=null,this.pressed=!1}))}set move(t){this._move.push(t)}set click(t){this._click.push(t)}}},846:(t,e,s)=>{var i=s(939),o=s(112);function n(){i.p.fields=[];let t=50*i.wT.scale,e=1/Math.PI/2;for(let s=-1;s*t<i.p.gamecvs.width;s+=1)for(let o=-1;o*t<i.p.gamecvs.height;o+=1){let n=s-Math.floor(i.wT.x/t),r=o-Math.floor(i.wT.y/t),l=i.p.noise.perlin2(n*e,r*e);l=(l+1)/2,i.p.fields.push(new i.ZZ(n,r,l))}}function r(){let t=i.p.gamecvs.getContext("2d"),e=i.p.gamecvs.width,s=i.p.gamecvs.height;t.clearRect(0,0,e,s),t.fillStyle="#539e3b",t.fillRect(0,0,e,s),i.p.fields.forEach((t=>t.render()))}function l(t,e,s,o){s=s||50*i.wT.scale,o=o||1/Math.PI/2;let n=t-Math.floor(i.wT.x/s),r=e-Math.floor(i.wT.y/s),l=i.p.noise.perlin2(n*o,r*o);return l=(l+1)/2,l}window.onload=function(){i.p.gamecvs=document.getElementById("game"),i.wT.x=i.wT.y=0,i.wT.scale=1,i.p.gamecvs.width=window.innerWidth,i.p.gamecvs.height=window.innerHeight,i.p.gamecvs.getContext("2d"),null!==(0,i.u1)("#ffb400")?(n(),r()):console.error("Invalid color")},window.onresize=function(){i.wT.x=i.wT.y=0,i.wT.scale=1,i.p.gamecvs.width=window.innerWidth,i.p.gamecvs.height=window.innerHeight,n(),r()},o.x.move=(t,e)=>{o.x.pressed&&o.x.pressedElement&&o.x.pressedElement===i.p.gamecvs&&(i.wT.x+=t,i.wT.y+=e,n(),r())},o.x.click=(t,e)=>{if(!o.x.pressedElement||o.x.pressedElement!==i.p.gamecvs)return;let s=Math.floor((t-i.wT.x)/i.wT.scale/50),h=Math.floor((e-i.wT.y)/i.wT.scale/50);i.UN.fields.some((t=>t.x===s&&t.y===h))||(i.UN.fields.push({x:s,y:h,fertility:l(s,h)}),console.log(i.UN),n(),r())}},939:(t,e,s)=>{s.d(e,{UN:()=>n,ZZ:()=>o,p:()=>r,u1:()=>h,wT:()=>l});class i{constructor(t,e,s,i,o){this.x=t,this.y=e,this.width=s,this.height=i,this.color=o}render(){let t=r.gamecvs.getContext("2d");null!==t&&(t.fillStyle=this.color,t.fillRect(this.x+1,this.y+1,this.width-1,this.height-1))}}class o{constructor(t,e,s,o=!1){this.unlocked=!1,this.x=t,this.y=e,this.fertility=s,this.basicColor="#ffb400";let r=n.fields.find((s=>s.x===t&&s.y===e));var h,c,a;void 0!==r&&(this.fertility=r.fertility,this.unlocked=!0),this.box=new i((50*t+l.x)*l.scale,(50*e+l.y)*l.scale,50*l.scale,50*l.scale,this.unlocked?(h=parseInt(this.basicColor.slice(1,3),16)*this.fertility,c=parseInt(this.basicColor.slice(3,5),16)*this.fertility,a=parseInt(this.basicColor.slice(5,7),16)*this.fertility,"#"+((1<<24)+(Math.floor(h)<<16)+(Math.floor(c)<<8)+Math.floor(a)).toString(16).slice(1)):"#0000007f")}render(){this.box.render()}}const n={fields:[]},r={gamecvs:document.getElementById("game"),fields:[],seed:Math.random(),noise:new window.Noise};r.noise=new window.Noise(r.seed);const l={x:0,y:0,scale:1};function h(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}}},e={};function s(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s(184),s(939),s(846),s(112)})();